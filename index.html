<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶Å Lion App</title>
    <style>
        /* INTERFACCIA MOBILE */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; background: #0f172a; color: white; padding: 20px; min-height: 100vh; }
        .header { text-align: center; margin: 30px 0; }
        .lion-icon { font-size: 60px; animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .title { font-size: 34px; font-weight: 800; color: #FFD93D; margin: 10px 0; }
        .subtitle { color: #94a3b8; font-size: 16px; }
        .roar-btn { background: #FF8C00; color: white; border: none; padding: 20px; font-size: 22px; border-radius: 15px; width: 90%; max-width: 350px; margin: 30px auto; display: block; font-weight: bold; }
        .section-title { color: #FFD93D; font-size: 20px; margin: 30px 0 15px 0; }
        .links-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .link-card { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 12px; text-decoration: none; text-align: center; }
        .link-icon { font-size: 30px; margin-bottom: 8px; }
        .link-name { color: white; font-weight: 600; }
        .news-item { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin: 15px 0; }
        .news-title { color: #FFD93D; font-weight: bold; }
        .footer { text-align: center; margin-top: 40px; color: #64748b; }
    </style>
</head>
<body>
    <div class="header">
        <div class="lion-icon">ü¶Å</div>
        <h1 class="title" id="appTitle">LION APP</h1>
        <p class="subtitle" id="appSubtitle">Caricamento...</p>
    </div>
    
    <button class="roar-btn" onclick="roar()" id="roarBtn">RUGGISCI! üîä</button>
    
    <h2 class="section-title">üîó LINK RAPIDI</h2>
    <div class="links-grid" id="linksContainer">
        <div style="color:#94a3b8; text-align:center; grid-column: span 2;">
            Caricamento link...
        </div>
    </div>
    
    <h2 class="section-title">üì∞ NOTIZIE</h2>
    <div id="newsContainer">
        <div class="news-item">
            <div class="news-title">Caricamento...</div>
            <div>Attendere prego</div>
        </div>
    </div>
    
    <div class="footer" id="appFooter">
        ¬© 2024 Lion App
    </div>

    <script>
        // DEBUG MESSAGES
        console.log('=== LION APP START ===');
        
        // CARICA CONFIG
        function loadConfig() {
            const configUrl = 'https://raw.githubusercontent.com/mauri63/Mauri/main/config.json?t=' + new Date().getTime();
            console.log('URL config:', configUrl);
            
            fetch(configUrl)
                .then(response => {
                    console.log('Status:', response.status);
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(config => {
                    console.log('Config OK:', config);
                    updateUI(config);
                })
                .catch(error => {
                    console.error('ERRORE caricamento config:', error);
                    // Dati di default se config non esiste
                    const defaultConfig = {
                        app: { titolo: "LION APP", sottotitolo: "Config non trovata", footer: "Crea config.json su GitHub" },
                        pulsante_principale: { testo: "RUGGISCI! üîä" },
                        links: [],
                        contenuti: []
                    };
                    updateUI(defaultConfig);
                    alert('‚ö†Ô∏è Crea config.json su GitHub! Vai a /admin.html');
                });
        }
        
        // AGGIORNA INTERFACCIA
        function updateUI(config) {
            console.log('Aggiorno UI con:', config);
            
            // Titoli
            document.getElementById('appTitle').textContent = config.app?.titolo || 'LION APP';
            document.getElementById('appSubtitle').textContent = config.app?.sottotitolo || '';
            document.getElementById('appFooter').textContent = config.app?.footer || '';
            document.getElementById('roarBtn').textContent = config.pulsante_principale?.testo || 'RUGGISCI! üîä';
            
            // Links
            const linksContainer = document.getElementById('linksContainer');
            if (config.links && config.links.length > 0) {
                let linksHtml = '';
                config.links.forEach(link => {
                    linksHtml += `
                    <a href="${link.url}" target="_blank" class="link-card">
                        <div class="link-icon">${link.icona || 'üîó'}</div>
                        <div class="link-name">${link.nome || 'Link'}</div>
                    </a>
                    `;
                });
                linksContainer.innerHTML = linksHtml;
            } else {
                linksContainer.innerHTML = `
                <div style="color:#94a3b8; text-align:center; grid-column: span 2;">
                    Nessun link configurato. Vai a <a href="admin.html" style="color:#FF8C00;">admin.html</a>
                </div>
                `;
            }
            
            // Notizie
            const newsContainer = document.getElementById('newsContainer');
            if (config.contenuti && config.contenuti.length > 0) {
                let newsHtml = '';
                config.contenuti.forEach(news => {
                    newsHtml += `
                    <div class="news-item">
                        <div class="news-title">${news.titolo || 'Notizia'}</div>
                        <div>${news.descrizione || ''}</div>
                    </div>
                    `;
                });
                newsContainer.innerHTML = newsHtml;
            }
            
            console.log('UI aggiornata con successo');
        }
        
        // FUNZIONE ROAR
        function roar() {
            const btn = document.getElementById('roarBtn');
            const originalText = btn.textContent;
            btn.textContent = 'ü¶Å ROAR! ü¶Å';
            btn.style.background = '#FF6B00';
            
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '#FF8C00';
            }, 1000);
        }
        
        // AVVIA APP
        window.onload = function() {
            console.log('DOM caricato, avvio app...');
            loadConfig();
        };
    </script>
</body>
</html>
